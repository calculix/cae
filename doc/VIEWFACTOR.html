<html><head><link rel="stylesheet" type="text/css" href="style.css"/></head><body> <H2> <BR> *VIEWFACTOR </H2>  <P> Keyword type: step  <P> Sometimes you wish to reuse the viewfactors calculated in a previous run, or store the present viewfactors to file for future use. This can be done using the keyword card *VIEWFACTOR.   <P> There are six optional parameters: READ, WRITE, WRITE ONLY, NO CHANGE, INPUT and OUTPUT. READ/NO CHANGE and WRITE/WRITE ONLY are mutually exclusive, i.e. if you specify READ you cannot specify WRITE or WRITE ONLY and so on. These parameters are used to specify whether you want to read previous viewfactors (READ/NO CHANGE) or store the viewfactors of the present calculation for future runs (WRITE and WRITE ONLY). For reading there is an optional parameter INPUT, for writing there is an optional parameter OUTPUT.   <P> If you specify READ or NO CHANGE, the results will be read from the binary file &ldquo;jobname.vwf&rdquo; (which should have been generated in a previous run) unless you use the parameter INPUT. In the latter case you can specify any filename (maximum 126 characters) containing the viewfactors. If the filename contains blanks, it must be delimited by double quotes and the filename should not exceed 124 characters. The geometry of the faces exchanging radiation must be exactly the same as in the actual run. Notice that the parameter INPUT must be preceded by the READ or NO CHANGE parameter. The parameter NO CHANGE has the same effect as the READ parameter except that it additionally specifies that the viewfactors did not change compared with the previous step. If this parameter is selected the LU decomposition of the radiation matrix is not repeated and a lot of computational time can be saved. This parameter can obviously not be used in the first step of the calculation.  <P> In thermal calculations (keyword *HEAT TRANSFER) the viewfactors are calculated at the start of each step since the user can change the radiation boundary conditions in each step. If the viewfactors are not read from file, i.e. if there is no *VIEWFACTOR,READ or *VIEWFACTOR,NO CHANGE card in a step they are calculated from scratch. In thermomechanical calculations (keyword *COUPLED TEMPERATURE-DISPLACEMENT) the viewfactors are calculated at the start of each iteration. Indeed, the deformation of the structure in the previous iteration can lead to a change of the viewfactors. However, if the user reads the viewfactors from file the recalculation of the viewfactors in each iteration anew is turned off. In that case it is assumed that the viewfactors do not change during the entire step.  <P> If you specify WRITE or WRITE ONLY, the viewfactors will be stored in binary format in file &ldquo;jobname.vwf&rdquo; unless you use the parameter OUTPUT. In the latter case you can specify any filename (maximum 125 characters) in which the viewfactors are to be written. Any existing file with this name will be deleted prior to the writing operation.  If the filename contains blanks, it must be delimited by double quotes and the filename should not exceed 123 characters. Notice that the parameter OUTPUT must be preceded by the WRITE or WRITE ONLY parameter. If you specify WRITE ONLY the program stops after calculating and storing the viewfactors.  <P> A *VIEWFACTOR card is only active in the step in which it occurs.  <P><P> <BR>  <P> First and only line:  <UL> <LI>*VIEWFACTOR </LI> <LI>specify either READ or WRITE </LI> </UL>  <P> <PRE>
Example:

*VIEWFACTOR,WRITE
</PRE>  <P> will store the viewfactors calculated in that step to file.  <P> <PRE>
Example:

*VIEWFACTOR,READ,INPUT=viewfactors.dat
</PRE>  <P> will read the viewfactors from file viewfactors.dat.  <P>  <P><P> <BR> Example files: furnace.  <P>  </body></html>