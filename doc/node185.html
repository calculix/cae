<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2017.2 (Released Jan 23, 2017) -->
<HTML>
<HEAD>
<TITLE>Thermomechanical iterations</TITLE>
<META NAME="description" CONTENT="Thermomechanical iterations">
<META NAME="keywords" CONTENT="ccx">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2017.2">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ccx.css">

<LINK REL="next" HREF="node186.html">
<LINK REL="previous" HREF="node184.html">
<LINK REL="up" HREF="node184.html">
<LINK REL="next" HREF="node186.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html3475"
  HREF="node186.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html3471"
  HREF="node184.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html3465"
  HREF="node184.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html3473"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3476"
  HREF="node186.html">Contact</A>
<B> Up:</B> <A NAME="tex2html3472"
  HREF="node184.html">Convergence criteria</A>
<B> Previous:</B> <A NAME="tex2html3466"
  HREF="node184.html">Convergence criteria</A>
 &nbsp; <B>  <A NAME="tex2html3474"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION000710100000000000000">
Thermomechanical iterations</A>
</H3>

<P>
To find the solution at the end of a given increment a set of nonlinear
equations has to be solved. In order to do so, the Newton-Raphson method is
used, i.e. the set of equations is locally linearized and solved. If the
solution does not satisfy the original nonlinear equations, the latter are
again linearized at the new solution. This procedure is repeated until the
solution satisfies the original nonlinear equations within a certain
margin. Suppose iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN> has been performed and convergence is to be
checked. Let us introduce the following quantities:

<P>

<UL>
<LI><!-- MATH
 $\bar{q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="21" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1521.png"
 ALT="$ \bar{q}^{\alpha}_i$"></B></SPAN>: the average flux for field <SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> at the end of
  iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>. It is defined by:

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><A NAME="Eq323"></A><!-- MATH
 \begin{equation}
\bar{q}^{\alpha}_i=\frac{\sum_e \sum_{n_e} \sum_{k_n} |{q}^{\alpha}_i
  |}{\sum_e \sum_{n_e} k_n^{\alpha}}
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="166" HEIGHT="59" ALIGN="MIDDLE" BORDER="0"
 SRC="img1522.png"
 ALT="$\displaystyle \bar{q}^{\alpha}_i=\frac{\sum_e \sum_{n_e} \sum_{k_n} \vert{q}^{\alpha}_i \vert}{\sum_e \sum_{n_e} k_n^{\alpha}}$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">474</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
where <SPAN CLASS="MATH"><B><IMG
 WIDTH="11" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img1523.png"
 ALT="$ e$"></B></SPAN> represents all elements, <SPAN CLASS="MATH"><B><IMG
 WIDTH="20" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1524.png"
 ALT="$ n_e$"></B></SPAN> all nodes belonging to a given
element, <SPAN CLASS="MATH"><B><IMG
 WIDTH="21" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1525.png"
 ALT="$ k_n$"></B></SPAN> all degrees of freedom for field <SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> belonging to a given
node and <!-- MATH
 ${q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="20" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1526.png"
 ALT="$ {q}^{\alpha}_i$"></B></SPAN> is the flux for a given degree of freedom of field
<SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> in a given node belonging to a given element at the end of iteration
<SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>. Right now, there are two kind of fluxes in CalculiX: the force for mechanical calculations
and the concentrated heat flux for thermal calculations.

<P>
</LI>
<LI><!-- MATH
 $\tilde{q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="21" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1527.png"
 ALT="$ \tilde{q}^{\alpha}_i$"></B></SPAN>: the iteration-average of the average flux for
  field <SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> of all iterations in the present increment up to but not
  including iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>. 

<P>
</LI>
<LI><!-- MATH
 $r^{\alpha}_{i,max}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1528.png"
 ALT="$ r^{\alpha}_{i,max}$"></B></SPAN>: the largest residual flux (in absolute value) of
  field <SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> at the end of iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>. For its calculation each degree
  of freedom is considered independently from all others:

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><A NAME="Eq324"></A><!-- MATH
 \begin{equation}
r^{\alpha}_{i,max}=\max_{DOF}  |{\delta q}^{\alpha}_i|,
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="138" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1529.png"
 ALT="$\displaystyle r^{\alpha}_{i,max}=\max_{DOF} \vert{\delta q}^{\alpha}_i\vert,$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">475</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
where <SPAN CLASS="MATH"><B><IMG
 WIDTH="11" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img826.png"
 ALT="$ \delta$"></B></SPAN> denotes the change due to iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>.

<P>
</LI>
<LI><!-- MATH
 ${\Delta u}^{\alpha}_{i,max}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="61" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img1530.png"
 ALT="$ {\Delta u}^{\alpha}_{i,max}$"></B></SPAN>: the largest change in solution (in absolute value) of
  field <SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> in the present increment, i.e. the solution at the end of
  iteration i of the present increment minus the solution at the start of the increment :

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
{\Delta u}^{\alpha}_{i,max}=\max_e \max_{n_e} \max_{k_n} |{\Delta u}^{\alpha}_i|,
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="223" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img1531.png"
 ALT="$\displaystyle {\Delta u}^{\alpha}_{i,max}=\max_e \max_{n_e} \max_{k_n} \vert{\Delta u}^{\alpha}_i\vert,$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">476</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
where <SPAN CLASS="MATH"><B><IMG
 WIDTH="17" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img1532.png"
 ALT="$ \Delta$"></B></SPAN> denotes the change due to the present increment. In mechanical
calculations the solution is the displacement, in thermal calculations it is
the temperature.

<P>
</LI>
<LI><!-- MATH
 ${c}^{\alpha}_{i,max}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1533.png"
 ALT="$ {c}^{\alpha}_{i,max}$"></B></SPAN>: the largest change in solution (in absolute value) of
  field <SPAN CLASS="MATH"><B><IMG
 WIDTH="14" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img138.png"
 ALT="$ \alpha$"></B></SPAN> in iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>. :

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
{c}^{\alpha}_{i,max}=\max_e \max_{n_e} \max_{k_n} |{\delta u}^{\alpha}_i|.
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="202" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img1534.png"
 ALT="$\displaystyle {c}^{\alpha}_{i,max}=\max_e \max_{n_e} \max_{k_n} \vert{\delta u}^{\alpha}_i\vert.$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">477</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
</LI>
</UL>

<P>
Now, two constants <SPAN CLASS="MATH"><B><IMG
 WIDTH="18" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1535.png"
 ALT="$ c_1$"></B></SPAN> and <SPAN CLASS="MATH"><B><IMG
 WIDTH="18" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1536.png"
 ALT="$ c_2$"></B></SPAN> are introduced: <SPAN CLASS="MATH"><B><IMG
 WIDTH="18" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1535.png"
 ALT="$ c_1$"></B></SPAN> is used to check
convergence of the flux, <SPAN CLASS="MATH"><B><IMG
 WIDTH="18" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1536.png"
 ALT="$ c_2$"></B></SPAN> serves to check convergence of the
solution. Their values depend on whether zero flux conditions prevail or
not. Zero flux is defined by

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
\bar{q}^{\alpha}_i \le \epsilon^\alpha  \tilde{q}^{\alpha}_i.
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="78" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1537.png"
 ALT="$\displaystyle \bar{q}^{\alpha}_i \le \epsilon^\alpha \tilde{q}^{\alpha}_i.$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">478</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
The following rules apply:

<P>

<UL>
<LI>if(<!-- MATH
 $\bar{q}^{\alpha}_i > \epsilon^\alpha  \tilde{q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="74" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1538.png"
 ALT="$ \bar{q}^{\alpha}_i &gt; \epsilon^\alpha \tilde{q}^{\alpha}_i$"></B></SPAN>) (no
  zero flux):

<P>

<UL>
<LI>if (<!-- MATH
 $i \le I_p [9]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="62" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1539.png"
 ALT="$ i \le I_p [9]$"></B></SPAN>) <!-- MATH
 $c_1=R_n^\alpha [0.005]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="105" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1540.png"
 ALT="$ c_1=R_n^\alpha [0.005]$"></B></SPAN>, <!-- MATH
 $c_2=C_n^\alpha [0.02]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="98" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1541.png"
 ALT="$ c_2=C_n^\alpha [0.02]$"></B></SPAN>.
</LI>
<LI>else <!-- MATH
 $c_1=R_p^\alpha [0.02]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="97" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1542.png"
 ALT="$ c_1=R_p^\alpha [0.02]$"></B></SPAN>, <!-- MATH
 $c_2=C_n^\alpha [0.02]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="98" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1541.png"
 ALT="$ c_2=C_n^\alpha [0.02]$"></B></SPAN>.
</LI>
</UL>

<P>
</LI>
<LI>else (zero flux) <!-- MATH
 $c_1=\epsilon^\alpha [{10}^{-5}]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="96" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="img1543.png"
 ALT="$ c_1=\epsilon^\alpha [{10}^{-5}]$"></B></SPAN>, <!-- MATH
 $c_2=C_\epsilon^\alpha [0.001]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="106" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1544.png"
 ALT="$ c_2=C_\epsilon^\alpha [0.001]$"></B></SPAN>
</LI>
</UL>

<P>
The values in square brackets are the default values. They can be changed by
using the keyword card <A HREF="node271.html#controls">*CONTROLS</A>. Now, convergence is
obtained if

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
r^{\alpha}_{i,max} \le c_1 \tilde{q}^{\alpha}_i
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="97" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1545.png"
 ALT="$\displaystyle r^{\alpha}_{i,max} \le c_1 \tilde{q}^{\alpha}_i$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">479</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
AND if, for thermal or thermomechanical calculations (<A HREF="node311.html#heattransfer">*HEAT
  TRANSFER</A>, <A HREF="node272.html#coupledtemperaturedisplacement">*COUPLED
  TEMPERATURE-DISPLACEMENT</A> or
  <A HREF="node369.html#uncoupledtemperaturedisplacement">*UNCOUPLED
  TEMPERATURE-DISPLACEMENT</A>), the temperature change
does not exceed DELTMX,

<P>

<P><P>
<BR>

<P>
AND at least one of the following conditions is satisfied:

<P>

<UL>
<LI><!-- MATH
 ${c}^{\alpha}_{i,max} \le c_2 {\Delta u}^{\alpha}_{i,max}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="137" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img1546.png"
 ALT="$ {c}^{\alpha}_{i,max} \le c_2 {\Delta u}^{\alpha}_{i,max}$"></B></SPAN>
</LI>
<LI><P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
\frac{r^{\alpha}_{i,max} {c}^{\alpha}_{i,max}}{min
  \{r^{\alpha}_{i-1,max},r^{\alpha}_{i-2,max} \} } < c_2 {\Delta u}^{\alpha}_{i,max}.
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="272" HEIGHT="55" ALIGN="MIDDLE" BORDER="0"
 SRC="img1547.png"
 ALT="$\displaystyle \frac{r^{\alpha}_{i,max} {c}^{\alpha}_{i,max}}{min \{r^{\alpha}_{i-1,max},r^{\alpha}_{i-2,max} \} } &lt; c_2 {\Delta u}^{\alpha}_{i,max}.$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">480</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>
The left hands side is an estimate of the largest solution correction in the next iteration. This condition only applies if no
  gas temperatures are to be calculated (no forced convection).
</LI>
<LI><!-- MATH
 $r^{\alpha}_{i,max} \le R_l^\alpha [10^{-8}] \tilde{q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="146" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="img1548.png"
 ALT="$ r^{\alpha}_{i,max} \le R_l^\alpha [10^{-8}] \tilde{q}^{\alpha}_i$"></B></SPAN>. If this
  condition is satisfied, the increment is assumed to be linear and no
  solution convergence check is performed. This condition only applies if no
  gas temperatures are to be calculated (no forced convection).
</LI>
<LI><!-- MATH
 $\bar{q}^{\alpha}_i \le \epsilon^\alpha [10^{-5}] \tilde{q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="116" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="img1549.png"
 ALT="$ \bar{q}^{\alpha}_i \le \epsilon^\alpha [10^{-5}] \tilde{q}^{\alpha}_i$"></B></SPAN>
  (zero flux conditions). This condition only applies if no
  gas temperatures are to be calculated (no forced convection).
</LI>
<LI><!-- MATH
 ${c}^{\alpha}_{i,max} < 10^{-8}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="99" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="img1550.png"
 ALT="$ {c}^{\alpha}_{i,max} &lt; 10^{-8}$"></B></SPAN>.
</LI>
</UL>

<P>
If convergence is reached, and the size of the increments is not fixed by the
user (no parameter DIRECT on the <A HREF="node355.html#static">*STATIC</A>,
<A HREF="node288.html#dynamic">*DYNAMIC</A> or <A HREF="node311.html#heattransfer">*HEAT TRANSFER</A> card)
the size of the next increment is changed under certain circumstances:

<P>

<UL>
<LI>if(<!-- MATH
 $i > I_L [10]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="72" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1551.png"
 ALT="$ i &gt; I_L [10]$"></B></SPAN>): <!-- MATH
 $d \theta = d \theta D_B [0.75]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="119" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1552.png"
 ALT="$ d \theta = d \theta D_B [0.75]$"></B></SPAN>, where <SPAN CLASS="MATH"><B><IMG
 WIDTH="20" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img1553.png"
 ALT="$ d \theta$"></B></SPAN>
  is the increment size relative to the step size (convergence was
  rather slow and the increment size is decreased).
</LI>
<LI>if(<!-- MATH
 $i \le I_G [4]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="65" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1554.png"
 ALT="$ i \le I_G [4]$"></B></SPAN>) AND the same applies for the previous increment:  <!-- MATH
 $d \theta = d \theta D_D [1.5]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="111" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1555.png"
 ALT="$ d \theta = d \theta D_D [1.5]$"></B></SPAN> (convergence is
  fast and the increment size is increased).
</LI>
</UL>

<P>
If no convergence is reached in iteration <SPAN CLASS="MATH"><B><IMG
 WIDTH="9" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img840.png"
 ALT="$ i$"></B></SPAN>, the following actions are
taken:

<P>

<UL>
<LI>if, for thermomechanical calculations, the temperature change exceeds
  DELTMX, the size of the increment is multiplied by
  <!-- MATH
 $\frac{\text{DELTMX}}{\text{temperature change}}D_A$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="141" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img1556.png"
 ALT="$ \frac{\text{DELTMX}}{\text{temperature change}}D_A$"></B></SPAN> [0.85].
</LI>
<LI>if <!-- MATH
 $i > I_C [16]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="73" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1557.png"
 ALT="$ i &gt; I_C [16]$"></B></SPAN>, too many iterations are needed to reach convergence
  and any further effort is abandoned: CalculiX stops with an error message.
</LI>
<LI>if <!-- MATH
 $i \ge I_0 [4]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="61" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1558.png"
 ALT="$ i \ge I_0 [4]$"></B></SPAN> AND <!-- MATH
 $|r^{\alpha}_{i,max} > 10^{-20}|$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="115" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="img1559.png"
 ALT="$ \vert r^{\alpha}_{i,max} &gt; 10^{-20}\vert$"></B></SPAN> AND
  <!-- MATH
 $|{c}^{\alpha}_{i,max} > 10^{-20}|$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="114" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="img1560.png"
 ALT="$ \vert{c}^{\alpha}_{i,max} &gt; 10^{-20}\vert$"></B></SPAN> AND <!-- MATH
 $r^{\alpha}_{i-1,max} > r^{\alpha}_{i-2,max}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="141" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1561.png"
 ALT="$ r^{\alpha}_{i-1,max} &gt; r^{\alpha}_{i-2,max}$"></B></SPAN> AND
  <!-- MATH
 $r^{\alpha}_{i,max} > r^{\alpha}_{i-2,max}$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="125" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1562.png"
 ALT="$ r^{\alpha}_{i,max} &gt; r^{\alpha}_{i-2,max}$"></B></SPAN> AND <!-- MATH
 $r^{\alpha}_{i,max} > c_1
  \tilde{q}^{\alpha}_i$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="97" HEIGHT="29" ALIGN="MIDDLE" BORDER="0"
 SRC="img1563.png"
 ALT="$ r^{\alpha}_{i,max} &gt; c_1
\tilde{q}^{\alpha}_i$"></B></SPAN> then:

<UL>
<LI>if the parameter DIRECT is active, the solution is considered to be divergent and
  CalculiX stops with an error message.
</LI>
<LI>else, the size of the increment is adapted according to <!-- MATH
 $d \theta = d
  \theta D_F [0.25]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="118" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1564.png"
 ALT="$ d \theta = d
\theta D_F [0.25]$"></B></SPAN> and the iteration of the increment is restarted.
</LI>
</UL>
</LI>
<LI>if <!-- MATH
 $i \ge I_R [8]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="65" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1565.png"
 ALT="$ i \ge I_R [8]$"></B></SPAN>, the number of iterations <SPAN CLASS="MATH"><B><IMG
 WIDTH="13" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img712.png"
 ALT="$ x$"></B></SPAN> is estimated needed to
  reach convergence. <SPAN CLASS="MATH"><B><IMG
 WIDTH="13" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img712.png"
 ALT="$ x$"></B></SPAN> roughly satisfies:

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
r^{\alpha}_{i,max} \left( \frac {r^{\alpha}_{i,max}}{r^{\alpha}_{i-1,max}}
\right ) ^ x = R_n^\alpha \tilde{q}^{\alpha}_i
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="202" HEIGHT="65" ALIGN="MIDDLE" BORDER="0"
 SRC="img1566.png"
 ALT="$\displaystyle r^{\alpha}_{i,max} \left( \frac {r^{\alpha}_{i,max}}{r^{\alpha}_{i-1,max}} \right ) ^ x = R_n^\alpha \tilde{q}^{\alpha}_i$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">481</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
from which <SPAN CLASS="MATH"><B><IMG
 WIDTH="13" HEIGHT="14" ALIGN="BOTTOM" BORDER="0"
 SRC="img712.png"
 ALT="$ x$"></B></SPAN> can be determined. Now, if 

<P>
<P></P>
<DIV ALIGN="CENTER" CLASS="mathdisplay"><!-- MATH
 \begin{equation}
i+\frac{\ln \left( R_n^\alpha \frac{\tilde{q}^{\alpha}_i}{r^{\alpha}_{i,max}}
  \right) }{\ln \left( \frac{r^{\alpha}_{i,max}}{r^{\alpha}_{i-1,max}} \right)
} > I_C [16]
\end{equation}
 -->
<TABLE CLASS="equation" CELLPADDING="0" WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE">
<TD NOWRAP ALIGN="CENTER"><SPAN CLASS="MATH"><IMG
 WIDTH="193" HEIGHT="78" ALIGN="MIDDLE" BORDER="0"
 SRC="img1567.png"
 ALT="$\displaystyle i+\frac{\ln \left( R_n^\alpha \frac{\tilde{q}^{\alpha}_i}{r^{\alp...
...\ln \left( \frac{r^{\alpha}_{i,max}}{r^{\alpha}_{i-1,max}} \right) } &gt; I_C [16]$"></SPAN></TD>
<TD NOWRAP CLASS="eqno" WIDTH="10" ALIGN="RIGHT">
(<SPAN CLASS="arabic">482</SPAN>)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>

<P>
(which means that the estimated number of iterations needed to reach
  convergence exceeds <SPAN CLASS="MATH"><B><IMG
 WIDTH="21" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1568.png"
 ALT="$ I_C$"></B></SPAN>) OR <SPAN CLASS="MATH"><B><IMG
 WIDTH="48" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img1569.png"
 ALT="$ i = I_C$"></B></SPAN>, the increment size is adapted according to <!-- MATH
 $d \theta = d
  \theta D_C [0.5]$
 -->
<SPAN CLASS="MATH"><B><IMG
 WIDTH="110" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img1570.png"
 ALT="$ d \theta = d
\theta D_C [0.5]$"></B></SPAN> and the iteration of the increment is restarted unless
  the parameter DIRECT was selected. In the latter case the increment is not
  restarted and the iterations continue.

<P>
</LI>
<LI>if none of the above applies iteration continues.

<P>
</LI>
</UL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html3475"
  HREF="node186.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html3471"
  HREF="node184.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html3465"
  HREF="node184.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html3473"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html3476"
  HREF="node186.html">Contact</A>
<B> Up:</B> <A NAME="tex2html3472"
  HREF="node184.html">Convergence criteria</A>
<B> Previous:</B> <A NAME="tex2html3466"
  HREF="node184.html">Convergence criteria</A>
 &nbsp; <B>  <A NAME="tex2html3474"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
